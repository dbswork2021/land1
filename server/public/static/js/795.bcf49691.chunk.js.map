{"version":3,"file":"static/js/795.bcf49691.chunk.js","mappings":"gMAKMA,EAAiB,CACrBC,WAAY,CACVC,GAAI,CAAEC,KAAM,GACZC,GAAI,CAAED,KAAM,KAoFhB,UAjFa,WACX,MAAeE,EAAAA,EAAAA,UAARC,GAAP,eACKC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,YACTC,EAAAA,EAAAA,MAAUC,MAAK,SAACC,GACfN,EAAKO,eAAeD,EAAIE,YAUzB,OACE,UAAC,KAAD,kBAAUd,GAAV,IAA0BM,KAAMA,EAAMS,KAAK,OAAOC,SAPnC,SAACC,IAChBC,EAAAA,EAAAA,IAAYD,GAAQN,MAAK,SAACC,GAC3BO,aAAaC,WAAW,eACxBb,EAAS,cAIR,WACE,SAAC,SAAD,CACEQ,KAAK,KACTM,MAAO,CAACC,QAAS,QAFf,UAIE,SAAC,IAAD,OAEF,SAAC,SAAD,CACEP,KAAK,WACLQ,MAAM,qBACNC,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,yCANf,UAUE,SAAC,IAAD,OAGF,SAAC,SAAD,CACEX,KAAK,WACLQ,MAAM,eACNC,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,gCANf,UAUE,SAAC,aAAD,OAGF,SAAC,SAAD,CACEX,KAAK,UACLQ,MAAM,2BACNI,aAAc,CAAC,YACfH,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,wCAEX,gBAAGE,EAAH,EAAGA,cAAH,MAAwB,CACtBC,UADsB,SACZC,EAAGC,GACX,OAAKA,GAASH,EAAc,cAAgBG,EAGrCC,QAAQC,OAAO,IAAIC,MAAM,+CAFvBF,QAAQG,cAZzB,UAmBE,SAAC,aAAD,OAGF,SAAC,SAAD,WACE,SAAC,IAAD,CAAQC,KAAK,UAAUC,SAAS,SAAhC","sources":["pages/User.jsx"],"sourcesContent":["import { Form, Input, Button } from 'antd';\r\nimport { useEffect } from 'react';\r\nimport {useNavigate} from 'react-router-dom'\r\nimport { UserApi, UserEditApi } from 'utils/api';\r\n\r\nconst formItemLayout = {\r\n  wrapperCol: {\r\n    xs: { span: 8 },\r\n    sm: { span: 6 },\r\n  },\r\n};\r\nconst User = () => {\r\n  const [form] = Form.useForm();\r\n\tconst navigate = useNavigate();\r\n\r\n\tuseEffect(() => {\r\n\t\tUserApi().then((res) => {\r\n\t\t\tform.setFieldsValue(res.data)\r\n\t\t})\r\n\t})\r\n\r\n  const onFinish = (values) => {\r\n    UserEditApi(values).then((res) => {\r\n\t\t\tlocalStorage.removeItem('__web_token')\r\n\t\t\tnavigate('/login')\r\n    });\r\n  };\r\n  return (\r\n    <Form {...formItemLayout} form={form} name=\"user\" onFinish={onFinish}>\r\n      <Form.Item\r\n        name=\"id\"\r\n\t\t\t\tstyle={{display: 'none'}}\r\n      >\r\n        <Input />\r\n      </Form.Item>\r\n      <Form.Item\r\n        name=\"username\"\r\n        label=\"用户名\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: '请输入用户名',\r\n          },\r\n        ]}\r\n      >\r\n        <Input />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        name=\"password\"\r\n        label=\"密码\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: 'Please input your password!',\r\n          },\r\n        ]}\r\n      >\r\n        <Input.Password />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        name=\"confirm\"\r\n        label=\"确认密码\"\r\n        dependencies={['password']}\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: '再次输入密码',\r\n          },\r\n          ({ getFieldValue }) => ({\r\n            validator(_, value) {\r\n              if (!value || getFieldValue('password') === value) {\r\n                return Promise.resolve();\r\n              }\r\n              return Promise.reject(new Error('两次密码不一致'));\r\n            },\r\n          }),\r\n        ]}\r\n      >\r\n        <Input.Password />\r\n      </Form.Item>\r\n\r\n      <Form.Item>\r\n        <Button type=\"primary\" htmlType=\"submit\">\r\n          确认\r\n        </Button>\r\n      </Form.Item>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default User;\r\n"],"names":["formItemLayout","wrapperCol","xs","span","sm","Form","form","navigate","useNavigate","useEffect","UserApi","then","res","setFieldsValue","data","name","onFinish","values","UserEditApi","localStorage","removeItem","style","display","label","rules","required","message","dependencies","getFieldValue","validator","_","value","Promise","reject","Error","resolve","type","htmlType"],"sourceRoot":""}